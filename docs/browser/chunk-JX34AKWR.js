import{a as k}from"./chunk-GYSMK3QQ.js";import{c as f}from"./chunk-PGHM7SLM.js";import{a as y}from"./chunk-ER2GWFKQ.js";import{Aa as a,Ea as s,Qa as c,Sa as d,V as r,Va as p,ab as l,db as m,hb as h,ob as u}from"./chunk-OP7FQXNM.js";import"./chunk-JMZ7DUBM.js";function B(e,i){if(e&1&&l(0,"iframe",0),e&2){let b=m();d("src",b.bookUrl,a)}}function g(e,i){e&1&&h(0,` Loading
`)}var C=(()=>{let i=class i{constructor(t,o,n){this.activatedRoute=t,this.http=o,this.sanitizer=n,this.isPageReady=!1,this.bookId=0,this.currentBook={BookId:0,Content:"",ImgUrl:"",Link:"",Title:""},this.bookUrl=""}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{this.bookId=Number(t.BookId)}),this.bookId>0&&this.loadBook()}loadBook(){this.isPageReady=!1,this.http.get(`Book/GetBookById/${this.bookId}`).subscribe({next:t=>{t.ResponseBody&&(this.currentBook=t.ResponseBody,this.bookUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.ResponseBody.Link),this.isPageReady=!0)},error:t=>{console.log(t),this.isPageReady=!0}})}};i.\u0275fac=function(o){return new(o||i)(s(k),s(y),s(f))},i.\u0275cmp=r({type:i,selectors:[["app-view-book"]],standalone:!0,features:[u],decls:2,vars:1,consts:[["width","100%","height","600px",2,"border","0",3,"src"]],template:function(o,n){o&1&&c(0,B,1,1,"iframe",0)(1,g,1,0),o&2&&p(0,n.isPageReady?0:1)}});let e=i;return e})();export{C as ViewBookComponent};
